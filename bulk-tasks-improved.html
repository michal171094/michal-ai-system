<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×•×¡×¤×ª ××©×™××•×ª ×§×™×™××•×ª - ××™×›×œ AI</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; }
        .section { margin-bottom: 30px; padding: 20px; border: 2px solid #e74c3c; border-radius: 8px; background: #fff5f5; }
        .section h2 { color: #e74c3c; margin-top: 0; }
        .task { margin: 10px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background: #f9f9f9; position: relative; }
        .task.selected { border: 2px solid #27ae60; background: #f0fff0; }
        .task h3 { margin: 0 0 10px 0; color: #2980b9; }
        .task p { margin: 5px 0; }
        .task input[type="checkbox"] { position: absolute; top: 10px; left: 10px; transform: scale(1.5); }
        .task-content { margin-right: 40px; }
        .task textarea { width: 100%; height: 60px; margin-top: 10px; padding: 5px; border-radius: 3px; border: 1px solid #ddd; }
        .priority { font-weight: bold; }
        .high { color: #e74c3c; }
        .medium { color: #f39c12; }
        .low { color: #27ae60; }
        .custom-task { margin: 20px 0; padding: 20px; border: 2px solid #3498db; border-radius: 8px; background: #f8f9fa; }
        .form-group { margin: 10px 0; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .form-group textarea { height: 80px; }
        button { padding: 15px 30px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        .btn-primary { background: #3498db; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        #status { margin-top: 20px; padding: 15px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .loading { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ×”×•×¡×¤×ª ×”××©×™××•×ª ×”×§×™×™××•×ª ×©×œ ××™×›×œ</h1>
        
        <div class="section">
            <h2>ğŸ“š ××©×™××•×ª ××§×“××™×•×ª ×•×¢×‘×•×“×•×ª</h2>
            <div class="task" data-task-id="0">
                <input type="checkbox" checked onchange="toggleTask(this, 0)">
                <div class="task-content">
                    <h3>××¨×’'×•×¨×™ - ×ª×¨×’×•× ×•××¤×•×¡×˜×™×œ</h3>
                    <p><strong>×ª×™××•×¨:</strong> ×˜×™×¤×•×œ ×‘×ª×¨×’×•×, ×‘×“×™×§×ª ××¡××›×™×, ××¤×•×¡×˜×™×œ, ×‘×™×¨×•×¨ ×”×ª×××” ×œ×’×¨×× ×™×”</p>
                    <p><strong>×œ×§×•×—:</strong> ××¨×’'×•×¨×™ ×ª×¨×’×•×</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ××”×œ×š ××ª×’×œ×’×œ - ×”×©×œ××•×ª ××•×œ ×”×œ×§×•×—×”</p>
                    <p class="priority medium">ğŸ“… ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="1">
                <input type="checkbox" checked onchange="toggleTask(this, 1)">
                <div class="task-content">
                    <h3>×›×¨××™×ª - ×¡××™× ×¨×™×•×Ÿ ×¢× ×”×•×¡×¤×ª ××××¨×™×</h3>
                    <p><strong>×ª×™××•×¨:</strong> ×”×•×¡×¤×ª ××××¨×™× ×œ×¡××™× ×¨×™×•×Ÿ (×¦×¨×™×š 8 ××××¨×™×, ×œ×”×•×¡×™×£ ×¢×•×“ 3), ×”×¤×§×ª ××¡××š</p>
                    <p><strong>×œ×§×•×—:</strong> ×›×¨××™×ª ×¡××™× ×¨</p>
                    <p><strong>×“×“-×œ×™×™×Ÿ:</strong> ×¢×“ ××—×¨ ×‘×¢×¨×‘/×˜×¨× ×”×’×©×”</p>
                    <p class="priority high">ğŸ”¥ ×¢×“×™×¤×•×ª: ×’×‘×•×”×”</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="2">
                <input type="checkbox" checked onchange="toggleTask(this, 2)">
                <div class="task-content">
                    <h3>×¢×‘×•×“×” ×¡××™× ×¨×™×•× ×™×ª ×§×‘×•×¦×ª×™×ª</h3>
                    <p><strong>×ª×™××•×¨:</strong> ×¡×™×•× ×¢×‘×•×“×”, ××ª×Ÿ ×ª××™×›×” ××§×“××™×ª, ×¤×ª×¨×•× ×•×ª ×œ××©×‘×¨ ×‘×™×Ÿ ×—×‘×¨×•×ª</p>
                    <p><strong>×œ×§×•×—:</strong> ×§×‘×•×¦×ª ×¡××™× ×¨×™×•×Ÿ</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ××™×Ÿ ×“×“×œ×™×™×Ÿ ×¡×¤×¦×™×¤×™</p>
                    <p class="priority low">âš¡ ×¢×“×™×¤×•×ª: × ××•×›×”</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="3">
                <input type="checkbox" checked onchange="toggleTask(this, 3)">
                <div class="task-content">
                    <h3>×™×©×¨××œ - ×¡××™× ×¨ ×•×•×¢×“×”</h3>
                    <p><strong>×ª×™××•×¨:</strong> ×©×œ×™×—×ª ×˜×™×•×˜×•×ª, ××™×©×•×¨ ×•×¢×“×”, ×˜×™×¤×•×œ ×‘××¡××›×™×, ×”×ª×§×“××•×ª ×œ×¤×™ ×”×¢×¨×•×ª</p>
                    <p><strong>×œ×§×•×—:</strong> ×™×©×¨××œ ×¡××™× ×¨</p>
                    <p><strong>×”×ª×¨××”:</strong> "×œ× × ×©××¨ ×”×¨×‘×” ×–××Ÿ.."</p>
                    <p class="priority high">ğŸ”¥ ×¢×“×™×¤×•×ª: ×’×‘×•×”×”</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’° ×—×•×‘×•×ª ×•×’×‘×™×™×”</h2>
            <div class="task" data-task-id="4">
                <input type="checkbox" checked onchange="toggleTask(this, 4)">
                <div class="task-content">
                    <h3>coeo Inkasso - Ostrom GmbH</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 1660002492</p>
                    <p><strong>×¡×›×•×:</strong> ~455â‚¬</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×‘×”×ª× ×’×“×•×ª ×¤×¢×™×œ×” / ×‘×©×œ×‘×™ ×˜×™×¤×•×œ</p>
                    <p class="priority medium">âš–ï¸ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="5">
                <input type="checkbox" checked onchange="toggleTask(this, 5)">
                <div class="task-content">
                    <h3>PAIR Finance - Free2Move</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 162857501033</p>
                    <p><strong>×¡×›×•×:</strong> ~45-69â‚¬</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×œ× ×©×•×œ×, ×××©×™×›×™× ×‘×”×œ×™×›×™ ×’×‘×™×”</p>
                    <p class="priority medium">âš–ï¸ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="6">
                <input type="checkbox" checked onchange="toggleTask(this, 6)">
                <div class="task-content">
                    <h3>PAIR Finance - Novum Bank Cashper</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 168775195683</p>
                    <p><strong>×¡×›×•×:</strong> 208.60â‚¬</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×œ× ×©×•×œ×, × ×©×œ×—×• ×”×¦×¢×•×ª ×¤×©×¨×”</p>
                    <p class="priority medium">âš–ï¸ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="7">
                <input type="checkbox" checked onchange="toggleTask(this, 7)">
                <div class="task-content">
                    <h3>×¨×©×•×ª ×”××›×™×¤×” ×•×”×’×‘×™×™×” - ××©×¨×“ ×”×‘×™×˜×—×•×Ÿ</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 774243-03-25</p>
                    <p><strong>×¡×›×•×:</strong> â‚ª7,355.17</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×ª×™×§ ×˜×¨×•× ×—×•×‘/×”×ª×¨××”/×¤×ª×•×—</p>
                    <p class="priority high">ğŸ”¥ ×¢×“×™×¤×•×ª: ×’×‘×•×”×”</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="8">
                <input type="checkbox" checked onchange="toggleTask(this, 8)">
                <div class="task-content">
                    <h3>×× ×•×¨×” ××‘×˜×—×™× - ×—×•×‘×•×ª ×‘×™×˜×•×—</h3>
                    <p><strong>×¡×›×•××™×:</strong> â‚ª330.43, â‚ª326.02, â‚ª85.21</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×¤×ª×•×—/×“×¨×™×©×ª ×ª×©×œ×•× ×¢×‘×•×¨ ××¡×¤×¨ ×¤×•×œ×™×¡×•×ª ×‘×™×˜×•×—</p>
                    <p class="priority medium">âš–ï¸ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¢ ×‘×™×¨×•×§×¨×˜×™×” ×•××•×¡×“×•×ª</h2>
            <div class="task" data-task-id="9">
                <input type="checkbox" checked onchange="toggleTask(this, 9)">
                <div class="task-content">
                    <h3>TK - ×§×•×¤×ª ×—×•×œ×™× ×’×¨×× ×™×”</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> B268202260</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×‘×ª×”×œ×™×š ×‘×™×¨×•×¨ ×‘×§×©×”/×”×ª× ×’×“×•×ª</p>
                    <p class="priority medium">ğŸ“‹ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="10">
                <input type="checkbox" checked onchange="toggleTask(this, 10)">
                <div class="task-content">
                    <h3>×‘×™×˜×•×— ×œ××•××™ - ×”×’×©×ª ××¡××›×™×</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 897777</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×”×’×©×ª ××¡××›×™×/×‘×ª×”×œ×™×›×™ ×‘×“×™×§×”</p>
                    <p class="priority medium">ğŸ“‹ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
            
            <div class="task" data-task-id="11">
                <input type="checkbox" checked onchange="toggleTask(this, 11)">
                <div class="task-content">
                    <h3>×¨×©×•×ª ×”××›×™×¤×” ×•×”×’×‘×™×™×” - ×§× ×¡×•×ª</h3>
                    <p><strong>××¡×¤×¨ ×ª×™×§:</strong> 164025</p>
                    <p><strong>×¡×˜×˜×•×¡:</strong> ×˜×™×¤×•×œ ×‘×¤× ×™×•×ª/×‘×—×™× ×”</p>
                    <p class="priority medium">ğŸ“‹ ×¢×“×™×¤×•×ª: ×‘×™× ×•× ×™×ª</p>
                    <textarea placeholder="×”×•×¡×£ ×”×¢×¨×•×ª ××• ×©× ×” ×¤×¨×˜×™×..."></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>â• ×”×•×¡×£ ××©×™××•×ª ×—×“×©×•×ª</h2>
            <div class="custom-task">
                <h3>ğŸ“ ×¦×•×¨ ××©×™××” ×—×“×©×”</h3>
                <div class="form-group">
                    <label>×›×•×ª×¨×ª ×”××©×™××”:</label>
                    <input type="text" id="newTaskTitle" placeholder="×œ×“×•×’××”: ××¢× ×” ×œ×¢×•×¨×š ×”×“×™×Ÿ ×©×œ...">
                </div>
                <div class="form-group">
                    <label>×ª×™××•×¨ ××¤×•×¨×˜:</label>
                    <textarea id="newTaskDescription" placeholder="×ª××¨ ×‘××¤×•×¨×˜ ××” ×¦×¨×™×š ×œ×¢×©×•×ª..."></textarea>
                </div>
                <div class="form-group">
                    <label>×¡×•×’ ××©×™××”:</label>
                    <select id="newTaskType">
                        <option value="academic">ğŸ“š ××§×“××™</option>
                        <option value="debts">ğŸ’° ×—×•×‘×•×ª</option>
                        <option value="bureaucracy">ğŸ¢ ×‘×™×¨×•×§×¨×˜×™×”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×¢×“×™×¤×•×ª:</label>
                    <select id="newTaskPriority">
                        <option value="high">ğŸ”¥ ×’×‘×•×”×”</option>
                        <option value="medium">ğŸ“… ×‘×™× ×•× ×™×ª</option>
                        <option value="low">âš¡ × ××•×›×”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×“×“-×œ×™×™×Ÿ (××•×¤×¦×™×•× ×œ×™):</label>
                    <input type="text" id="newTaskDeadline" placeholder="×œ×“×•×’××”: ×¢×“ ×¡×•×£ ×”×©×‘×•×¢">
                </div>
                <div class="form-group">
                    <label>×”×¢×¨×•×ª × ×•×¡×¤×•×ª:</label>
                    <textarea id="newTaskNotes" placeholder="×›×œ ××™×“×¢ × ×•×¡×£ ×©×—×©×•×‘..."></textarea>
                </div>
                <button class="btn-primary" onclick="addCustomTask()">â• ×”×•×¡×£ ××©×™××” ×–×•</button>
                <button class="btn-danger" onclick="clearCustomTask()">ğŸ—‘ï¸ × ×§×” ×˜×•×¤×¡</button>
            </div>
            
            <div id="customTasksList"></div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button class="btn-primary" onclick="selectAll()">â˜‘ï¸ ×‘×—×¨ ×”×›×œ</button>
            <button class="btn-primary" onclick="deselectAll()">â˜ ×‘×˜×œ ×”×›×œ</button>
            <button class="btn-success" onclick="addSelectedTasks()">âœ… ×”×•×¡×£ ××©×™××•×ª × ×‘×—×¨×•×ª</button>
            <button class="btn-danger" onclick="clearAll()">ğŸ—‘ï¸ × ×§×” ×”×›×œ</button>
        </div>

        <div id="status"></div>
    </div>

    <script>
        const tasks = [
            // Academic/Work tasks
            { 
                title: "××¨×’'×•×¨×™ - ×ª×¨×’×•× ×•××¤×•×¡×˜×™×œ",
                description: "×˜×™×¤×•×œ ×‘×ª×¨×’×•×, ×‘×“×™×§×ª ××¡××›×™×, ××¤×•×¡×˜×™×œ, ×‘×™×¨×•×¨ ×”×ª×××” ×œ×’×¨×× ×™×”",
                type: "academic",
                priority: "medium",
                client: "××¨×’'×•×¨×™ ×ª×¨×’×•×",
                status: "in_progress",
                notes: "××”×œ×š ××ª×’×œ×’×œ - ×”×©×œ××•×ª ××•×œ ×”×œ×§×•×—×”"
            },
            { 
                title: "×›×¨××™×ª - ×¡××™× ×¨×™×•×Ÿ ×¢× ×”×•×¡×¤×ª ××××¨×™×",
                description: "×”×•×¡×¤×ª ××××¨×™× ×œ×¡××™× ×¨×™×•×Ÿ (×¦×¨×™×š 8 ××××¨×™×, ×œ×”×•×¡×™×£ ×¢×•×“ 3), ×”×¤×§×ª ××¡××š",
                type: "academic",
                priority: "high",
                client: "×›×¨××™×ª ×¡××™× ×¨",
                status: "urgent",
                deadline: "××—×¨ ×‘×¢×¨×‘",
                notes: "×˜×¨× ×”×’×©×” - ×“×—×•×£!"
            },
            { 
                title: "×¢×‘×•×“×” ×¡××™× ×¨×™×•× ×™×ª ×§×‘×•×¦×ª×™×ª",
                description: "×¡×™×•× ×¢×‘×•×“×”, ××ª×Ÿ ×ª××™×›×” ××§×“××™×ª, ×¤×ª×¨×•× ×•×ª ×œ××©×‘×¨ ×‘×™×Ÿ ×—×‘×¨×•×ª",
                type: "academic",
                priority: "low",
                client: "×§×‘×•×¦×ª ×¡××™× ×¨×™×•×Ÿ",
                status: "pending",
                notes: "××™×Ÿ ×“×“×œ×™×™×Ÿ ×¡×¤×¦×™×¤×™"
            },
            { 
                title: "×™×©×¨××œ - ×¡××™× ×¨ ×•×•×¢×“×”",
                description: "×©×œ×™×—×ª ×˜×™×•×˜×•×ª, ××™×©×•×¨ ×•×¢×“×”, ×˜×™×¤×•×œ ×‘××¡××›×™×, ×”×ª×§×“××•×ª ×œ×¤×™ ×”×¢×¨×•×ª",
                type: "academic",
                priority: "high",
                client: "×™×©×¨××œ ×¡××™× ×¨",
                status: "urgent",
                notes: "×œ× × ×©××¨ ×”×¨×‘×” ×–××Ÿ.."
            },
            
            // Debt tasks
            { 
                title: "coeo Inkasso - Ostrom GmbH",
                description: "×”×ª× ×’×“×•×ª ×œ×—×•×‘ ×—×‘×¨×ª ×—×©××œ ×’×¨×× ×™×ª",
                type: "debts",
                priority: "medium",
                amount: "455â‚¬",
                caseNumber: "1660002492",
                status: "in_dispute",
                notes: "×‘×”×ª× ×’×“×•×ª ×¤×¢×™×œ×” / ×‘×©×œ×‘×™ ×˜×™×¤×•×œ"
            },
            { 
                title: "PAIR Finance - Free2Move",
                description: "×—×•×‘ ×©×›×™×¨×•×ª ×¨×›×‘",
                type: "debts",
                priority: "medium",
                amount: "45-69â‚¬",
                caseNumber: "162857501033",
                status: "unpaid",
                notes: "×œ× ×©×•×œ×, ×××©×™×›×™× ×‘×”×œ×™×›×™ ×’×‘×™×”"
            },
            { 
                title: "PAIR Finance - Novum Bank Cashper",
                description: "×—×•×‘ ×‘× ×§",
                type: "debts",
                priority: "medium",
                amount: "208.60â‚¬",
                caseNumber: "168775195683",
                status: "settlement_offered",
                notes: "×œ× ×©×•×œ×, × ×©×œ×—×• ×”×¦×¢×•×ª ×¤×©×¨×”"
            },
            { 
                title: "×¨×©×•×ª ×”××›×™×¤×” ×•×”×’×‘×™×™×” - ××©×¨×“ ×”×‘×™×˜×—×•×Ÿ",
                description: "×—×•×‘ ×œ××©×¨×“ ×”×‘×™×˜×—×•×Ÿ ×“×¨×š ×”×•×¦××” ×œ×¤×•×¢×œ",
                type: "debts",
                priority: "high",
                amount: "â‚ª7,355.17",
                caseNumber: "774243-03-25",
                status: "pending",
                notes: "×ª×™×§ ×˜×¨×•× ×—×•×‘/×”×ª×¨××”/×¤×ª×•×—"
            },
            { 
                title: "×× ×•×¨×” ××‘×˜×—×™× - ×—×•×‘×•×ª ×‘×™×˜×•×—",
                description: "×—×•×‘×•×ª ×¢×œ ××¡×¤×¨ ×¤×•×œ×™×¡×•×ª ×‘×™×˜×•×—",
                type: "debts",
                priority: "medium",
                amount: "â‚ª330.43 + â‚ª326.02 + â‚ª85.21",
                status: "pending",
                notes: "×¤×ª×•×—/×“×¨×™×©×ª ×ª×©×œ×•× ×¢×‘×•×¨ ××¡×¤×¨ ×¤×•×œ×™×¡×•×ª ×‘×™×˜×•×—"
            },
            
            // Bureaucracy tasks
            { 
                title: "TK - ×§×•×¤×ª ×—×•×œ×™× ×’×¨×× ×™×”",
                description: "×‘×™×¨×•×¨ ×‘×§×©×”/×”×ª× ×’×“×•×ª ×‘×§×•×¤×ª ×—×•×œ×™×",
                type: "bureaucracy",
                priority: "medium",
                caseNumber: "B268202260",
                status: "pending",
                notes: "×‘×ª×”×œ×™×š ×‘×™×¨×•×¨ ×‘×§×©×”/×”×ª× ×’×“×•×ª"
            },
            { 
                title: "×‘×™×˜×•×— ×œ××•××™ - ×”×’×©×ª ××¡××›×™×",
                description: "×”×’×©×ª ××¡××›×™× ×•×˜×™×¤×•×œ ×‘×ª×™×§",
                type: "bureaucracy",
                priority: "medium",
                caseNumber: "897777",
                status: "pending",
                notes: "×”×’×©×ª ××¡××›×™×/×‘×ª×”×œ×™×›×™ ×‘×“×™×§×”"
            },
            { 
                title: "×¨×©×•×ª ×”××›×™×¤×” ×•×”×’×‘×™×™×” - ×§× ×¡×•×ª",
                description: "×˜×™×¤×•×œ ×‘×§× ×¡×•×ª ×•×¤× ×™×•×ª",
                type: "bureaucracy",
                priority: "medium",
                caseNumber: "164025",
                status: "pending",
                notes: "×˜×™×¤×•×œ ×‘×¤× ×™×•×ª/×‘×—×™× ×”"
            }
        ];

        let customTasks = [];
        let selectedTasks = new Set();

        function toggleTask(checkbox, taskId) {
            const taskDiv = checkbox.closest('.task');
            if (checkbox.checked) {
                selectedTasks.add(taskId);
                taskDiv.classList.add('selected');
            } else {
                selectedTasks.delete(taskId);
                taskDiv.classList.remove('selected');
            }
            updateSelectedCount();
        }

        function selectAll() {
            document.querySelectorAll('.task input[type="checkbox"]').forEach((cb, index) => {
                cb.checked = true;
                selectedTasks.add(index);
                cb.closest('.task').classList.add('selected');
            });
            updateSelectedCount();
        }

        function deselectAll() {
            document.querySelectorAll('.task input[type="checkbox"]').forEach((cb, index) => {
                cb.checked = false;
                selectedTasks.delete(index);
                cb.closest('.task').classList.remove('selected');
            });
            updateSelectedCount();
        }

        function updateSelectedCount() {
            const totalCustom = customTasks.length;
            const totalSelected = selectedTasks.size + totalCustom;
            showStatus(`âœ¨ × ×‘×—×¨×• ${totalSelected} ××©×™××•×ª ×œ×”×•×¡×¤×” (${selectedTasks.size} ×§×™×™××•×ª + ${totalCustom} ×—×“×©×•×ª)`, 'success');
        }

        function addCustomTask() {
            const title = document.getElementById('newTaskTitle').value;
            const description = document.getElementById('newTaskDescription').value;
            const type = document.getElementById('newTaskType').value;
            const priority = document.getElementById('newTaskPriority').value;
            const deadline = document.getElementById('newTaskDeadline').value;
            const notes = document.getElementById('newTaskNotes').value;

            if (!title.trim()) {
                showStatus('âŒ × ×“×¨×©×ª ×›×•×ª×¨×ª ×œ××©×™××”', 'error');
                return;
            }

            const customTask = {
                title: title,
                description: description || title,
                type: type,
                priority: priority,
                deadline: deadline,
                notes: notes,
                status: 'pending',
                isCustom: true
            };

            customTasks.push(customTask);
            displayCustomTasks();
            clearCustomTask();
            updateSelectedCount();
        }

        function displayCustomTasks() {
            const container = document.getElementById('customTasksList');
            container.innerHTML = '';
            
            customTasks.forEach((task, index) => {
                const taskDiv = document.createElement('div');
                taskDiv.className = 'task selected';
                taskDiv.innerHTML = `
                    <div class="task-content">
                        <h3>ğŸ†• ${task.title}</h3>
                        <p><strong>×ª×™××•×¨:</strong> ${task.description}</p>
                        <p><strong>×¡×•×’:</strong> ${getTypeLabel(task.type)}</p>
                        <p><strong>×¢×“×™×¤×•×ª:</strong> ${getPriorityLabel(task.priority)}</p>
                        ${task.deadline ? `<p><strong>×“×“-×œ×™×™×Ÿ:</strong> ${task.deadline}</p>` : ''}
                        ${task.notes ? `<p><strong>×”×¢×¨×•×ª:</strong> ${task.notes}</p>` : ''}
                        <button class="btn-danger" onclick="removeCustomTask(${index})" style="margin-top: 10px;">ğŸ—‘ï¸ ×”×¡×¨ ××©×™××”</button>
                    </div>
                `;
                container.appendChild(taskDiv);
            });
        }

        function removeCustomTask(index) {
            customTasks.splice(index, 1);
            displayCustomTasks();
            updateSelectedCount();
        }

        function getTypeLabel(type) {
            const labels = {
                'academic': 'ğŸ“š ××§×“××™',
                'debts': 'ğŸ’° ×—×•×‘×•×ª',
                'bureaucracy': 'ğŸ¢ ×‘×™×¨×•×§×¨×˜×™×”'
            };
            return labels[type] || type;
        }

        function getPriorityLabel(priority) {
            const labels = {
                'high': 'ğŸ”¥ ×’×‘×•×”×”',
                'medium': 'ğŸ“… ×‘×™× ×•× ×™×ª',
                'low': 'âš¡ × ××•×›×”'
            };
            return labels[priority] || priority;
        }

        function clearCustomTask() {
            document.getElementById('newTaskTitle').value = '';
            document.getElementById('newTaskDescription').value = '';
            document.getElementById('newTaskType').value = 'academic';
            document.getElementById('newTaskPriority').value = 'medium';
            document.getElementById('newTaskDeadline').value = '';
            document.getElementById('newTaskNotes').value = '';
        }

        function clearAll() {
            deselectAll();
            customTasks = [];
            displayCustomTasks();
            clearCustomTask();
            showStatus('ğŸ—‘ï¸ × ×•×§×” ×”×›×œ', 'success');
        }

        function showStatus(message, type = 'loading') {
            const status = document.getElementById('status');
            status.innerHTML = message;
            status.className = type;
        }

        async function addSelectedTasks() {
            const tasksToAdd = [];
            
            // Add selected predefined tasks
            selectedTasks.forEach(taskId => {
                if (taskId < tasks.length) {
                    const task = { ...tasks[taskId] };
                    // Get user notes from textarea
                    const textarea = document.querySelector(`[data-task-id="${taskId}"] textarea`);
                    if (textarea && textarea.value.trim()) {
                        task.notes = (task.notes || '') + '\n\n×”×¢×¨×•×ª × ×•×¡×¤×•×ª: ' + textarea.value.trim();
                    }
                    tasksToAdd.push(task);
                }
            });
            
            // Add custom tasks
            customTasks.forEach(task => {
                tasksToAdd.push(task);
            });

            if (tasksToAdd.length === 0) {
                showStatus('âŒ ×œ× × ×‘×—×¨×• ××©×™××•×ª ×œ×”×•×¡×¤×”', 'error');
                return;
            }

            showStatus(`â³ ××•×¡×™×£ ${tasksToAdd.length} ××©×™××•×ª ×œ××¢×¨×›×ª...`, 'loading');
            
            try {
                const response = await fetch('/api/tasks/bulk', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ tasks: tasksToAdd })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.success) {
                    showStatus(`âœ… ×”×¦×œ×—×”! ${result.created} ××©×™××•×ª × ×•×¡×¤×• ×œ××¢×¨×›×ª`, 'success');
                    setTimeout(() => {
                        window.location.href = '/';
                    }, 2000);
                } else {
                    showStatus(`âŒ ×©×’×™××”: ${result.error}`, 'error');
                }
            } catch (error) {
                showStatus(`âŒ ×©×’×™××” ×‘×—×™×‘×•×¨: ${error.message}`, 'error');
            }
        }

        // Initialize - select all by default
        window.onload = () => {
            selectAll();
        };
    </script>
</body>
</html>